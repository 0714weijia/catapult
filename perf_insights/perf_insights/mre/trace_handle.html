<!DOCTYPE html>
<!--
Copyright 2015 The Chromium Authors. All rights reserved.
Use of this source code is governed by a BSD-style license that can be
found in the LICENSE file.
-->
<link rel="import" href="/tracing/base/guid.html">

<script>
'use strict';

tr.exportTo('pi.mre', function() {
  function TraceHandle(source_url) {
    this.source_url_ = source_url;
  }

  TraceHandle.prototype = {
    get url() { return this.url_; },
    get displayName() { return this.displayName_; },
    get metadata() { return this.metadata_; },
    get guid() { return this.guid_; },

    asDict: function() {
      var d = {
        source_url: this.source_url_
      };

      this._asDictInto(d);
      if (d.type === undefined)
        throw new Error('_asDictInto must set type field');
    },

    beginReading: function() {
      throw new Error('Not implemented');
    }
  };

  TraceHandle.fromDict = function(handleDict) {
    if (d.type === 'local_file')
      return pi.mre.LocalFileTraceHandle.fromDict(handleDict);

    throw new Error('Not implemented');
  };


  function LocalFileTraceHandle(source_url) {
    TraceHandle.call(this, source_url);
  }

  return {
    TraceHandle: TraceHandle,
    LocalFileTraceHandle: LocalFileTraceHandle
  };
});
</script>
