<!DOCTYPE html>
<!--
Copyright (c) 2015 The Chromium Authors. All rights reserved.
Use of this source code is governed by a BSD-style license that can be
found in the LICENSE file.
-->

<script>
'use strict';

tr.exportTo('pi.mre', function() {

  function mapSingleTrace(mapResults, model, mapFunction, key) {
    // Do not map the trace if its timer is low resolution.
    if (!model.isTimeHighResolution) {
      var err = new Error('Trace doesn\'t have high resolution time, ' +
                          'cannot map.');
      err.name = 'LowResolutionTimeError';
      throw err;
    }

    // Map the function.
    try {
      mapFunction(mapResults, model, key);
    } catch (ex) {
      ex.name = 'MapFunctionError';
      throw ex;
    }
  }

  return {
    mapSingleTrace: mapSingleTrace
  };
});
</script>

